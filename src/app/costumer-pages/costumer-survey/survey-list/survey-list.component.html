<h1 class="px-5 py-4 m-0 fw-bold" style="font-size: 24pt">Survey</h1>

<div class="container px-5">
  <div class="card">
    <div class="card-header bg-white p-4">
      <h5 class="m-0" style="font-size: 16pt">Survey List</h5>
    </div>
    <div class="card-body d-flex justify-content-center">

      <!-- CONTENT -->
      <table class="table">
        <thead *ngIf="!isLoading; else loading" class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Transaction ID</th>
                <th scope="col">Transaction Date</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <div *ngIf="!hasData()">No Data Found</div>
        <tbody *ngIf="hasData()" >
            <tr *ngFor="let transaction of listCustomerTransaction | paginate:{itemsPerPage: paginate?.size, currentPage: currentPaginate['page'], totalItems: paginate?.totalElements}; let i = index">
                <th style="vertical-align: bottom">{{(currentPaginate['page'] - 1) * paginate?.size! + (i + 1)}}</th>
                <td style="vertical-align: bottom">{{transaction.trxId}}</td>
                <td style="vertical-align: bottom">{{transaction.trxDate | date: 'dd/MM/yyyy'}}</td>
                <td>
                    <div ngbDropdown class="d-inline-block">
                    <button class="btn btn-outline-primary" id="dropdownMenu1" ngbDropdownToggle>Details</button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenu1" ngbDropdownMenu>
                            <button class="dropdown-item" (click)="fillSurvey(transaction.trxId)">Fill Survey</button>
                            <button class="dropdown-item" (click)="detailsSurvey(transaction.trxId)">Details Survey</button>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
      </table>
      <ng-template #loading>
        <div class="spinner-border spinner-border-sm" role="status">
            <span class="sr-only"></span>
        </div>
      </ng-template>
      <!-- END OF CONTENT -->

    </div>
    <div class="d-flex justify-content-center">
      <pagination-controls (pageChange)="pageChanged($event)"
          previousLabel="Previous" nextLabel="Next" >
      </pagination-controls>
    </div>
</div>
